<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org" />
  <meta charset="utf-8" />

  <title>CS205 Final Project</title>
  <link rel="stylesheet" href="./css/jquery.ui.all.css" type=
  "text/css" />
  <link rel="stylesheet" href="./css/demos.css" type="text/css" />
  <script src="./js/jquery-1.6.2.js" type="text/javascript">
</script>
  <script src="./js/jquery.ui.core.js" type="text/javascript">
</script>
  <script src="./js/jquery.ui.widget.js" type="text/javascript">
</script>
  <script src="./js/jquery.ui.tabs.js" type="text/javascript">
</script>
  <script type="text/javascript">
//<![CDATA[
        $(function() {
                $( "#tabs" ).tabs();
        });
  //]]>
  </script>
</head>

<body>
  <div id="header">
    <h1>Similarity Score Generation over Heterogeneous Data</h1>

    <h3>CS205 | Fall 2011<br />
    Kane Hsieh &amp; Yonatan Kogan</h3>
  </div>

  <div class="demo" id="tabs">
    <ul>
      <li><a href="#tabs-1">Problem</a></li>

      <li><a href="#tabs-2">Data</a></li>

      <li><a href="#tabs-3">Design</a></li>

      <li><a href="#tabs-4">Usage</a></li>

      <li><a href="#tabs-5">Performance</a></li>

      <li><a href="#tabs-6">Insights</a></li>

      <li><a href="#tabs-7">Extensions</a></li>

      <li><a href="#tabs-8">Reflection</a></li>

      <li><a href="#tabs-9">Video</a></li>
    </ul>

    <div id="tabs-1">
      <p><img src="img/teacher.jpg" /></p>

      <p>An identified problem in primary and secondary education
      is that it is often necessary for teachers to spend an
      inordinate amount of time creating lesson plans that most
      likely have already been created and refined by similar
      teachers, rather than focusing on increasing individual
      student performance. This is because there is no efficient or
      standardized way to share and peer review lesson plans.</p>

      <p><a href="http://betterlesson.com">BetterLesson</a> is a
      Boston-based startup that seeks "to connect educators and
      help them create, organize, and share their curricula." They
      have collected a large database of teachers, lesson plans,
      and related metadata. In order to help teachers identify
      relevant lesson plans, BetterLesson hopes to direct teachers
      to other educators who share similar content areas and
      teaching styles.</p>

      <p>This recommendation engine needs to be fast against a
      increasingly large dataset.</p>

      <p>The focus of this project is minimizing the latency that a
      user of BetterLessons experiences when searching for similar
      teachers and lesson plans.</p>
    </div>

    <div id="tabs-2">
      <p><img src="img/betterlesson.png" /></p>

      <p>The data was provided to us by <a href=
      "http://betterlesson.com/">BetterLesson</a>, an organization
      that seeks to aid teachres in collaborating and sharing the
      best course material. In their own words, "We are focused on
      aggregating and scaling the most innovative content and
      practices from high-performing teachers across the
      country."</p>

      <p>We were provided with a 120 megabyte CSV in which each row
      represented an individual teacher. The columns provided were:
      <samp>UID, firstName, state, dateCreated, score</samp> (which
      is BetterData's own metadata 'ranking'), <samp>upload</samp>
      and <samp>download</samp>, (which refer to lesson plan
      contributions), <samp>schoolName,</samp> and
      <samp>courseNames, unitNames</samp>, and <samp>grades</samp>.
      The last three were lists of strings delimited by the '|'
      character. An example of a row of data is below:</p>

      <p class="samplecode"><samp>13,Alex,MA,9/5/2008
      15:58,7115874,456,3142,Roxbury Prep Middle School,Social
      Studies | English / Language Arts | Writing | Listening and
      Speaking,Roxbury Prep 6th Grade English | Brown Social
      Studies | Grammar and Mechanics,Intro to Nouns and Verbs |
      Formal Writing Assignments | World War II | Nouns and Verbs |
      Nouns and Adjectives | Adjectives and Adverbs | Advertising
      Project | Autobiography Writing Project | How to Write a
      Business Letter | Time For Kids | Commonly Misused Words |
      Creative Writing Assignments | Writing Rubrics | Paragraph
      Structure | Assorted Grammar | Sentence Types | Figurative
      Language,Sixth grade | Seventh grade | Eighth
      Grade</samp></p>

      <p>The goal was to use a mapper to generate a "similarity"
      score between every pair of rows in order to recommend the
      most similar teachers for collaborative purposes. To this
      end, we also generated two variations of the dataset.
      <samp>reshaped_coarsegrained_mapper_user_export.csv</samp>
      provides the same data, but each cell is a 5-tuple to reduce
      the frequency that data is transferred between the devices
      and mappers/reducers:</p>

      <p class="samplecode">
      <samp>(13,14,15,16,17),(Alex,John,Steve,Kim,Kyle),(MA,MA,NY,MA,TX)...
      (Seventh grade | Eighth Grade, Fifth Grade | Eighth Grade,
      Sixth Grade, Fifth Grade | Sixth Grade, Eighth
      Grade)</samp></p>

      <p>The second variation of data we created was
      <samp>reshaped_finegrained_mapper_user_export.csv</samp>, in
      which each row as the format <samp>UID,[column
      name],[value]</samp>. This results in ten rows of data per
      teacher. The purpose of this dataset is so that each mapper
      has to do less work because it only computes the score based
      on one column; however, more mappers are needed to do the
      full computation. Thus, this dataset is advantageous only
      when mappers are cheap:</p>

      <p class="samplecode"><samp>13,firstName,Alex<br />
      13,state,MA<br />
      13,school,Roxbury Prep Middle School<br />
      ...<br />
      16,name,Kim<br />
      ...<br />
      16,grades,Fifth Grade | Sixth Grade<br />
      ...</samp></p>

      <p>Performance on Amazon EMR small instances are discussed in
      the <b>Performance</b> section.</p>
    </div>

    <div id="tabs-3">
      <p>mr_launcher2.py builds a dictionary in the format
      (id1,id2):score. first iteration's mapper computed the score
      for every teacher against every other teacher. This doubled
      the amount of necessary computation since (id1,id2) produces
      the same value as (id2,id1). In the first implementation,
      with the 4 second map-reduce, it would take about half a year
      of computation on a laptop using the dumb
      mr_launcher2.py.</p>
    </div>

    <div id="tabs-4">
      <p><img src="img/usage.jpg" /></p>

      <p>To run the project, use the following command line
      arguments:</p>

      <p class="samplecode"><samp>python [LAUNCHER] [MAPPER]
      [DATASET]</samp></p>

      <p>For example:</p>

      <p class="samplecode"><samp>python mr_launcher.py
      fine_grained_mr.py
      reshaped_coarsegrained_mapper_user_export.csv</samp></p>

      <p>By default, the script runs locally. With a properly
      configured <samp>.mrjob</samp> file, the flag
      <samp>-emr</samp> can be used to run the script on Amazon
      EMR. The result of a successful run is the creation of file
      <samp>scoreDict.txt</samp> and a line in the file
      <samp>perflog.csv</samp>. Lines in <samp>perflog.csv</samp>
      have the following format:</p>

      <p class="samplecode"><samp>python mr_launcher.py
      fine_grained_mr.py
      reshaped_coarsegrained_mapper_user_export.csv</samp></p>

      <p>By default, the script runs locally. With a properly
      configured <samp>.mrjob</samp> file, the flag
      <samp>-emr</samp> can be used to run the script on Amazon
      EMR. The result of a successful run is the creation of file
      <samp>scoreDict.txt</samp> and a line in the file
      <samp>perflog.csv</samp>. The file <samp>perfLog.csv</samp> is a log generated by the launcher each time it runs the mapper, and each line
      has the following format:</p>

      <p class="samplecode"><samp>[ROWS COMPUTED],[TOTAL
      RUNTIME],[AVG RUNTIME],[TIMESTAMP]</samp></p>

      <p>The other file, <samp>scoreDict.txt</samp>, is upper-right matrix of teacher-teacher similarity scores in a python <samp>dict</samp> format. Each entry in <samp>scoreDict.txt</samp> has the following format:</p>

      <p class="samplecode"><samp>(UID1,UID2) : [SIMILARITY SCORE]</samp></p>

      <p>The key format is a tuple, <samp>(UID1,UID2)</samp>, of any two teachers, and the value <samp>[SIMILARITY SCORE]</samp> is a score on the scale of 0-1 as generated by the functions in <samp>comparisons.py</samp> (see <b>Design</b> for more information). The dictionary allows for constsant time lookup of the similarity of any two teachers, and an <samp><i>n</i>log<i>n</i></samp> lookup of the top X similar teachers for any given teacher.</p>

    </div>

    <div id="tabs-5">
      <p>To benchmark or project, we used an artificially inflated dataset with something on the order of 6*1<samp>E</samp>6 teachers. This dataset was reshaped accordingly in order to benchmark with our coarse mapper and fine mapper, which had 1.2*1<samp>E</samp>6 and 6*1<samp>E</samp>7 rows, respectively (see <b>Data</b> for more information).</p>

      <p>SERIAL - graph + analysis</p>

      <p>NAIVE MAPPER  - graph + analysis</p>

      <p>FINE_GRAINED - graph + analysis</p>

      <p>COARSE GRAINED - graph + analysis</p>

      <p>DICTIONARY BUILDING - graph + analysis</p>

      <p>CONCLUSIONS - do not build entire dictionary at once initially (unless you have super fast computers). Rather, save each dictionary row on the intial check so future comparisons can be done in constant time.</p>

    </div>

    <div id="tabs-6">
      <p>Mauris eleifend est et turpis. Duis id erat. Suspendisse
      potenti. Aliquam vulputate, pede vel vehicula accumsan, mi
      neque rutrum erat, eu congue orci lorem eget lorem.
      Vestibulum non ante. Class aptent taciti sociosqu ad litora
      torquent per conubia nostra, per inceptos himenaeos. Fusce
      sodales. Quisque eu urna vel enim commodo pellentesque.
      Praesent eu risus hendrerit ligula tempus pretium. Curabitur
      lorem enim, pretium nec, feugiat nec, luctus a, lacus.</p>

      <p>Duis cursus. Maecenas ligula eros, blandit nec, pharetra
      at, semper at, magna. Nullam ac lacus. Nulla facilisi.
      Praesent viverra justo vitae neque. Praesent blandit
      adipiscing velit. Suspendisse potenti. Donec mattis, pede vel
      pharetra blandit, magna ligula faucibus eros, id euismod
      lacus dolor eget odio. Nam scelerisque. Donec non libero sed
      nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat
      porttitor, tempor ac, tempor vitae, pede. Aenean vehicula
      velit eu tellus interdum rutrum. Maecenas commodo.
      Pellentesque nec elit. Fusce in lacus. Vivamus a libero vitae
      lectus hendrerit hendrerit.</p>
    </div>

    <div id="tabs-7">
      <p>Mauris eleifend est et turpis. Duis id erat. Suspendisse
      potenti. Aliquam vulputate, pede vel vehicula accumsan, mi
      neque rutrum erat, eu congue orci lorem eget lorem.
      Vestibulum non ante. Class aptent taciti sociosqu ad litora
      torquent per conubia nostra, per inceptos himenaeos. Fusce
      sodales. Quisque eu urna vel enim commodo pellentesque.
      Praesent eu risus hendrerit ligula tempus pretium. Curabitur
      lorem enim, pretium nec, feugiat nec, luctus a, lacus.</p>

      <p>Duis cursus. Maecenas ligula eros, blandit nec, pharetra
      at, semper at, magna. Nullam ac lacus. Nulla facilisi.
      Praesent viverra justo vitae neque. Praesent blandit
      adipiscing velit. Suspendisse potenti. Donec mattis, pede vel
      pharetra blandit, magna ligula faucibus eros, id euismod
      lacus dolor eget odio. Nam scelerisque. Donec non libero sed
      nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat
      porttitor, tempor ac, tempor vitae, pede. Aenean vehicula
      velit eu tellus interdum rutrum. Maecenas commodo.
      Pellentesque nec elit. Fusce in lacus. Vivamus a libero vitae
      lectus hendrerit hendrerit.</p>
    </div>

    <div id="tabs-8">
      <p>Mauris eleifend est et turpis. Duis id erat. Suspendisse
      potenti. Aliquam vulputate, pede vel vehicula accumsan, mi
      neque rutrum erat, eu congue orci lorem eget lorem.
      Vestibulum non ante. Class aptent taciti sociosqu ad litora
      torquent per conubia nostra, per inceptos himenaeos. Fusce
      sodales. Quisque eu urna vel enim commodo pellentesque.
      Praesent eu risus hendrerit ligula tempus pretium. Curabitur
      lorem enim, pretium nec, feugiat nec, luctus a, lacus.</p>

      <p>Duis cursus. Maecenas ligula eros, blandit nec, pharetra
      at, semper at, magna. Nullam ac lacus. Nulla facilisi.
      Praesent viverra justo vitae neque. Praesent blandit
      adipiscing velit. Suspendisse potenti. Donec mattis, pede vel
      pharetra blandit, magna ligula faucibus eros, id euismod
      lacus dolor eget odio. Nam scelerisque. Donec non libero sed
      nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat
      porttitor, tempor ac, tempor vitae, pede. Aenean vehicula
      velit eu tellus interdum rutrum. Maecenas commodo.
      Pellentesque nec elit. Fusce in lacus. Vivamus a libero vitae
      lectus hendrerit hendrerit.</p>
    </div>

    <div id="tabs-9">
      <p><iframe width="420" height="315" src="http://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe></p>
    </div>
  </div>
</body>
</html>
